---
layout: page
title: "Model"
category: start
date: 2016-05-20 12:11:58
order: 2
---

## Use Alambic

You can use Alambic by simply adding the following statements to your PHP scripts (do not use composer autoloading if your framework is already using its own autoloader):

~~~php
<?php
require __DIR__ . '/vendor/autoload.php';
use Alambic\Alambic;
~~~

## Create a basic Model

The Alambic configuration describes:

* the data structure: *Types*
* how data can be fetched: *Connectors*

Models can be constructed as PHP arrays or directly loaded from Json configuration files.

>Create the following directories for storing config files

- /schema
- /schema/connectors
- /schema/models

### Setup connectors list

For this simple example, we will just use one of the built-in connectors: the *Json* connector, which map your types to json files.
One key strength of Alambic is that a single API endpoint can handle multiple connectors.

>Create the files.json file in /schema/connectors

{% gist 6f7a0cbe0536505c8120e72ee15cb9a8 %}

### Setup types

*Types* describe the objects than can be requested, and the relations between theses objects

We'll first configure the Users model with its native fields ("id" and "name") and a new field "posts" as we would like to be able to retrieve a user and his posts in one single request.

>Create the users.json file in /schema/models

{% gist fa3cc989e17271aede775f9c7b7fa8e3 %}

The Post model is pretty similar to the User one.

>Create the posts.json file in /schema/models

{% gist 2834acacbea63a69badac9180fcfa4e9 %}

## Create an Alambic instance

Our alambic configuration is now complete, we just need to [create a  request endpoint](http://webtales.github.io/alambic/start/queries) to be able to request it.
